<!doctype html>
<html lang="en">
  <head>
    <meta name="author" value="npub16jdfqgazrkapk0yrqm9rdxlnys7ck39c7zmdzxtxqlmmpxg04r0sd733sv" />
    <meta name="relays" value="wss://nostr.coinfund.app, wss://relay.verified-nostr.com, wss://nos.lol, wss://relay.damus.io, wss://relay.mostr.pub" />
    <meta name="top-notes" value="2" /> <!-- Use a even value, zero to disable -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <meta name="robots" content="max-image-preview:large" />
        <meta name="generator" content="Trust Me Bro | Blog powered by Nostr" />
        <link rel="icon" href="TMB-icon.png" sizes="32x32" />
        <link rel="icon" href="TMB-icon.png" sizes="192x192" />
        <link rel="apple-touch-icon" href="TMB-icon.png" />
        <link rel="canonical" href="https://trustmebro.blog" id="canonical-link" />
        <meta name="msapplication-TileImage" content="TMB-icon.png" />
        <meta property="og:locale" content="en_US" />
        <meta property="og:site_name" content="Trust Me Bro | Blog powered by Nostr" />
        <meta property="og:title" content="Commentary around Privacy, Security, and Anonymity in the dystopian age." id="dynamic-og-title" />
        <meta property="og:url" content="" id="dynamic-og-url" />
        <meta property="og:type" content="article" />
        <meta property="og:description" content="Highlighting businesses & services &quot;trust me bro&quot; security & privacy." />
        <meta property="og:image" content="https://trustmebro.blog/TMB-og.jpg" id="dynamic-og-image" />
        <meta property="og:image:url" content="https://trustmebro.blog/TMB-og.jpg" id="dynamic-og-image-url" />
        <meta property="og:image:secure_url" content="https://trustmebro.blog/TMB-og.jpg" id="dynamic-og-image-secure-url" />
        <meta property="article:publisher" content="https://www.facebook.com/CoinFund" />
        <meta name="twitter:title" content="Commentary around Privacy, Security, and Anonymity in the dystopian age." />
        <meta name="twitter:url" content="" />
        <meta name="twitter:description" content="Highlighting businesses & services &quot;trust me bro&quot; security & privacy." />
        <meta name="twitter:image" content="https://trustmebro.blog/TMB-og.jpg" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@Spl0itable" />
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
  <script>
    function updateMetaTags(title, description, imageUrl) {
      document.title = title;
      document.getElementById("dynamic-og-title").setAttribute("content", title);
      document.querySelector("meta[name='twitter:title']").setAttribute("content", title);
      
      document.getElementById("dynamic-og-url").setAttribute("content", window.location.href);
      document.querySelector("meta[name='twitter:url']").setAttribute("content", window.location.href);
      
      document.querySelector("meta[property='og:description']").setAttribute("content", description);
      document.querySelector("meta[name='twitter:description']").setAttribute("content", description);
      
      document.getElementById("dynamic-og-image").setAttribute("content", imageUrl);
      document.getElementById("dynamic-og-image-url").setAttribute("content", imageUrl);
      document.getElementById("dynamic-og-image-secure-url").setAttribute("content", imageUrl);
      document.querySelector("meta[name='twitter:image']").setAttribute("content", imageUrl);
    }
  
    function extractAndUpdateMetaTags() {
      if (window.location.hash) {
        const noteWrapper = document.querySelector(".note_wrapper");
        const title = noteWrapper?.querySelector("h1")?.innerText || "Commentary around Privacy, Security, and Anonymity in the dystopian age.";
        const description = noteWrapper?.querySelector(".content")?.innerText.slice(0, 200) || "Highlighting businesses & services \"trust me bro\" security & privacy.";
        const imageElement = noteWrapper?.querySelector("img.note-banner");
        const imageUrl = imageElement?.src || "https://trustmebro.blog/TMB-og.jpg";
        updateMetaTags(title, description, imageUrl);
      } else {
        // Reset to default values when on the home page or other non-note pages
        updateMetaTags(
          "Commentary around Privacy, Security, and Anonymity in the dystopian age.",
          "Highlighting businesses & services \"trust me bro\" security & privacy.",
          "https://trustmebro.blog/TMB-og.jpg"
        );
      }
    }
  
    // Call the function initially
    extractAndUpdateMetaTags();
  
    // Listen for hash changes and update meta tags
    window.addEventListener('hashchange', extractAndUpdateMetaTags);
  </script>
</html>
